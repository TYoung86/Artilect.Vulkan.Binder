<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>vkCmdCopyQueryPoolResults Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="vkCmdCopyQueryPoolResults class" /><meta name="System.Keywords" content="vkCmdCopyQueryPoolResults class, about vkCmdCopyQueryPoolResults class" /><meta name="Microsoft.Help.F1" content="vkCmdCopyQueryPoolResults" /><meta name="Microsoft.Help.Id" content="T:vkCmdCopyQueryPoolResults" /><meta name="Description" content="Copy the results of queries in a query pool to a buffer object" /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="default_namespace" /><meta name="file" content="T_vkCmdCopyQueryPoolResults" /><meta name="guid" content="T_vkCmdCopyQueryPoolResults" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Vulkan Bindings for .NET Standard<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="R_Project_Documentation.htm" title="Vulkan Bindings for .NET Standard" tocid="roottoc">Vulkan Bindings for .NET Standard</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="R_Project_Documentation.htm" title="Generated .NET Standard Vulkan Bindings" tocid="R_Project_Documentation">Generated .NET Standard Vulkan Bindings</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_.htm" title="( Default Namespace )" tocid="N_">( Default Namespace )</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="T_vkCmdCopyQueryPoolResults.htm" title="vkCmdCopyQueryPoolResults Class" tocid="T_vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="M_vkCmdCopyQueryPoolResults__ctor.htm" title="vkCmdCopyQueryPoolResults Constructor " tocid="M_vkCmdCopyQueryPoolResults__ctor">vkCmdCopyQueryPoolResults Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="Methods_T_vkCmdCopyQueryPoolResults.htm" title="vkCmdCopyQueryPoolResults Methods" tocid="Methods_T_vkCmdCopyQueryPoolResults">vkCmdCopyQueryPoolResults Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>vkCmdCopyQueryPoolResults Class</h1></td></tr></table><span class="introStyle"></span> <div class="summary">Copy the results of queries in a query pool to a buffer object</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="http://msdn2.microsoft.com/en-us/library/1kswf507" target="_blank">System<span id="LST6686B290_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6686B290_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>MulticastDelegate</a><br />  <span class="selflink">(Default Namespace)<span id="LST6686B290_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6686B290_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>vkCmdCopyQueryPoolResults</span><br /></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_.htm">(Default Namespace)</a><br />
    <strong>Assembly:</strong>
   Vulkan (in Vulkan.dll) Version: 1.0.51<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EACA');return false;" title="Copy">Copy</a></div></div><div id="ID1EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="identifier">vkCmdCopyQueryPoolResults</span> : <a href="http://msdn2.microsoft.com/en-us/library/1kswf507" target="_blank">MulticastDelegate</a></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EACA");</script></div><p>The <span class="selflink">vkCmdCopyQueryPoolResults</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID3RBSection" class="collapsibleSection"><table class="members" id="constructorList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_vkCmdCopyQueryPoolResults__ctor.htm">vkCmdCopyQueryPoolResults</a></td><td><div class="summary">Initializes a new instance of the <span class="selflink">vkCmdCopyQueryPoolResults</span> class</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID4RBSection" class="collapsibleSection"><table class="members" id="methodList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_vkCmdCopyQueryPoolResults_Invoke.htm">Invoke</a></td><td /></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID5RBSection" class="collapsibleSection"><span class="code">vkCmdCopyQueryPoolResults</span> is guaranteed to see the effect of previous
uses of <span class="code">vkCmdResetQueryPool</span> in the same queue, without any additional
synchronization.
Thus, the results will always reflect the most recent use of the query.    <span class="code">flags</span> has the same possible values described above for the <span class="code">flags</span>
parameter of <a href="T_vkGetQueryPoolResults.htm">vkGetQueryPoolResults</a>, but the different style of
execution causes some subtle behavioral differences.
Because <span class="code">vkCmdCopyQueryPoolResults</span> executes in order with respect to
other query commands, there is less ambiguity about which use of a query is
being requested.    If no bits are set in <span class="code">flags</span>, results for all requested queries in the
available state are written as 32-bit unsigned integer values, and nothing
is written for queries in the unavailable state.    If <span class="code">VK_QUERY_RESULT_64_BIT</span> is set, the results are written as an array
of 64-bit unsigned integer values as described for
<a href="T_vkGetQueryPoolResults.htm">vkGetQueryPoolResults</a>.    If <span class="code">VK_QUERY_RESULT_WAIT_BIT</span> is set, the implementation will wait for
each query&amp;#8217;s status to be in the available state before retrieving the
numerical results for that query.
This is guaranteed to reflect the most recent use of the query on the same
queue, assuming that the query is not being simultaneously used by other
queues.
If the query does not become available in a finite amount of time (e.g. due
to not issuing a query since the last reset), a <span class="code">VK_ERROR_DEVICE_LOST</span>
error  may  occur.    Similarly, if <span class="code">VK_QUERY_RESULT_WITH_AVAILABILITY_BIT</span> is set and
<span class="code">VK_QUERY_RESULT_WAIT_BIT</span> is not set, the availability is guaranteed to
reflect the most recent use of the query on the same queue, assuming that
the query is not being simultaneously used by other queues.
As with <span class="code">vkGetQueryPoolResults</span>, implementations  must  guarantee that if
they return a non-zero availability value, then the numerical results are
valid.    If <span class="code">VK_QUERY_RESULT_PARTIAL_BIT</span> is set, <span class="code">VK_QUERY_RESULT_WAIT_BIT</span>
is not set, and the query&amp;#8217;s status is unavailable, an intermediate result
value between zero and the final result value is written for that query.    <span class="code">VK_QUERY_RESULT_PARTIAL_BIT</span> must  not be used if the pool&amp;#8217;s
<span class="code">queryType</span> is <span class="code">VK_QUERY_TYPE_TIMESTAMP</span>.    <span class="code">vkCmdCopyQueryPoolResults</span> is considered to be a transfer operation,
and its writes to buffer memory  must  be synchronized using
<span class="code">VK_PIPELINE_STAGE_TRANSFER_BIT</span> and <span class="code">VK_ACCESS_TRANSFER_WRITE_BIT</span>
before using the results.     Valid Usage  <ul><li><span class="code">dstOffset</span> must  be less than the size of <span class="code">dstBuffer</span></li><li><span class="code">firstQuery</span> must  be less than the number of queries in
<span class="code">queryPool</span></li><li> 
The sum of <span class="code">firstQuery</span> and <span class="code">queryCount</span> must  be less than or
equal to the number of queries in <span class="code">queryPool</span></li><li> 
If <span class="code">VK_QUERY_RESULT_64_BIT</span> is not set in <span class="code">flags</span> then
<span class="code">dstOffset</span> and <span class="code">stride</span> must  be multiples of <span class="code">4</span></li><li> 
If <span class="code">VK_QUERY_RESULT_64_BIT</span> is set in <span class="code">flags</span> then
<span class="code">dstOffset</span> and <span class="code">stride</span> must  be multiples of <span class="code">8</span></li><li><span class="code">dstBuffer</span> must  have enough storage, from <span class="code">dstOffset</span>, to
contain the result of each query, as described
<a href="https://www.khronos.org/registry/vulkan/specs/1.0/html/vkspec.html#queries-operation-memorylayout">here</a></li><li><span class="code">dstBuffer</span> must  have been created with
<span class="code">VK_BUFFER_USAGE_TRANSFER_DST_BIT</span> usage flag </li><li> 
If <span class="code">dstBuffer</span> is non-sparse then it  must  be bound completely and
contiguously to a single <span class="code">VkDeviceMemory</span> object </li><li> 
If the <span class="code">queryType</span> used to create <span class="code">queryPool</span> was
<span class="code">VK_QUERY_TYPE_TIMESTAMP</span>, <span class="code">flags</span> must  not contain
<span class="code">VK_QUERY_RESULT_PARTIAL_BIT</span></li></ul>      Valid Usage (Implicit)  <ul><li><span class="code">commandBuffer</span> must  be a valid <span class="code">VkCommandBuffer</span> handle </li><li><span class="code">queryPool</span> must  be a valid <span class="code">VkQueryPool</span> handle </li><li><span class="code">dstBuffer</span> must  be a valid <span class="code">VkBuffer</span> handle </li><li><span class="code">flags</span> must  be a valid combination of <a href="T_VkQueryResultFlags.htm">VkQueryResultFlags</a> values </li><li><span class="code">commandBuffer</span> must  be in the  recording state  </li><li>  The <span class="code">VkCommandPool</span> that <span class="code">commandBuffer</span> was allocated from  must  support graphics, or compute operations </li><li>  This command  must  only be called outside of a render pass instance </li><li>  Each of <span class="code">commandBuffer</span>, <span class="code">dstBuffer</span>, and <span class="code">queryPool</span> must  have been created, allocated, or retrieved from the same <span class="code">VkDevice</span></li></ul>      Host Synchronization  <ul><li> Host access to <span class="code">commandBuffer</span> must  be externally synchronized </li><li> Host access to the <span class="code">VkCommandPool</span> that <span class="code">commandBuffer</span> was allocated from  must  be externally synchronized </li></ul>      Command Properties <div class="tableSection"><table><tr><th><th> Command Buffer Levels </th><th> Render Pass Scope </th><th> Supported Queue Types </th><th> Pipeline Type </th></th></tr><tr><td> Primary<br />
Secondary </td><td> Outside </td><td> Graphics<br />
compute </td><td> Transfer </td></tr></table></div>    To copy query statuses and numerical results directly to buffer memory,
call:    <div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAAEBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EAAEBA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAAEBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-lineno">1</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">void</span> vkCmdCopyQueryPoolResults(
<span class="highlight-lineno">2</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   VkCommandBuffer                             commandBuffer,
<span class="highlight-lineno">3</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   VkQueryPool                                 queryPool,
<span class="highlight-lineno">4</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   uint32_t                                    firstQuery,
<span class="highlight-lineno">5</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   uint32_t                                    queryCount,
<span class="highlight-lineno">6</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   VkBuffer                                    dstBuffer,
<span class="highlight-lineno">7</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   VkDeviceSize                                dstOffset,
<span class="highlight-lineno">8</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   VkDeviceSize                                stride,
<span class="highlight-lineno">9</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>   VkQueryResultFlags                          flags);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAAEBA");</script></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID6RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="N_.htm">(Default Namespace) Namespace</a></div><div class="seeAlsoStyle"><a href="T_VkBuffer.htm">(Default Namespace)<span id="LST6686B290_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6686B290_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>VkBuffer</a></div><div class="seeAlsoStyle"><a href="T_VkCommandBuffer.htm">(Default Namespace)<span id="LST6686B290_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6686B290_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>VkCommandBuffer</a></div><div class="seeAlsoStyle"><a href="T_VkQueryPool.htm">(Default Namespace)<span id="LST6686B290_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6686B290_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>VkQueryPool</a></div><div class="seeAlsoStyle"><a href="T_VkQueryResultFlags.htm">(Default Namespace)<span id="LST6686B290_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST6686B290_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>VkQueryResultFlags</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>